<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_0861_peer_review.Feedback</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description>Implementation class for the Feedback table in the Peer Review application.</description>
        <name>Feedback</name>
        <script><![CDATA[var Feedback = Class.create();
Feedback.prototype = Object.extendsObject(Base, {
	initialize: function() {
	},

	assignFeedback : assignFeedback,
	type: 'Feedback'
});

function assignFeedback (receiverID, submitterID) {
	if (!receiverID || !submitterID) {
		return;
	}

	var feedbackTable = this.CONSTANTS.tables.feedback;
	var stateAssigned = 'assigned';
	var queryObject = {
		"receiver" : receiverID,
		"submitter" : submitterID,
		"state" : stateAssigned
	};
	var totalAssigned  = this.getAggregate(feedbackTable,queryObject,"COUNT");

	if (totalAssigned == 0) {
		return this.insertRecord(feedbackTable, queryObject);
	}
}]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-04-05 06:24:30</sys_created_on>
        <sys_id>251d552f2fee01101cb52f2ef699b613</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Feedback</sys_name>
        <sys_package display_value="Peer Review" source="x_0861_peer_review">a13922132fa601101cb52f2ef699b616</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Peer Review">a13922132fa601101cb52f2ef699b616</sys_scope>
        <sys_update_name>sys_script_include_251d552f2fee01101cb52f2ef699b613</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-04-06 07:47:35</sys_updated_on>
    </sys_script_include>
</record_update>
